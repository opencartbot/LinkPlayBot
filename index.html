<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>PlayBot</title>
<script type="text/javascript">

	var speaker_ip = '192.168.1.11';  // CHANGE TO YOUR DEVICE IP

	var radio_api = 'http://'+speaker_ip+'/httpapi.asp?command=';

	function send(command)
	{
		var xmlHttp = new XMLHttpRequest();
		url = radio_api + command;
		xmlHttp.open( "GET", url, true );
		xmlHttp.send( null );
		return false;
	}

	function play(stream) {
		command = 'setPlayerCmd:play:' +stream;
		send(command);
	}

	function volume(value) {
		command = 'setPlayerCmd:vol:'+value;
		send(command);
	}
</script>
<style>
  body {
	background: #000000;
	color: #ffffff;
  }
  button {
  	border: 1px solid #ffffff;
  	background: #000000;
  	color: #ffffff;
  	padding: 6px 15px;
  }
  button:hover {
	background: #ffffff;
  	color: #000000;
  	cursor: pointer;
  }
  #playlist, #url {
    background: #ffffff;
    color: #000000;
    padding: 6px;
  }
  #slider {
    min-width: 200px;
  }
</style>
</head>

<body>
<h1>PlayBot</h1>
<label for="radio">Radio:</label>
<select name="radio" id="radio" onchange="play(this.value)">
<option value="http://icecastlv.luxnet.ua/lux_mp3">ЛЮКС FM</option>
<option value="http://online.hitfm.ua/HitFM_HD">ХІТ FM</option>
<option value="http://online.nasheradio.ua/NasheRadio_HD">НАШЕ РАДІО</option>
<option value="https://cast.radiogroup.com.ua:443/retro">РЕТРО FM</option>
<option value="http://icecast.luxnet.ua/maximum_mp3">МАКСИМУМ</option>
</select>
<br><br>
<button onclick="send('setPlayerCmd:play');" width="40%">Play</button>
<button onclick="send('setPlayerCmd:pause');" width="40%">Pause</button>
<br><br>
<label for="slider">Volume</label>
<input type= "range" class="slider" id="slider" value="0" maxlength="100" width="100%">
<br><br>
<label for="playlist">M3U Playlist URL:</label><br>
<input type="url" name="playlist" id="playlist" placeholder="http://example.com/playlist.m3u">
<button onclick="send('setPlayerCmd:playlist:' + document.getElementById('playlist').value + ':m3u');">Load</button>
<br><br>
<button onclick="send('setPlayerCmd:prev');">< Prev</button>
<button onclick="send('setPlayerCmd:next');">Next ></button>
<br><br>
<label for="url">Stream URL:</label><br>
<input type="url" name="url" id="url" placeholder="http://example.com/stream">
<button onclick="play(document.getElementById('url').value);">Play</button>
<br><br><br>
<button onclick="send('setPlayerCmd:switchmode:wifi');">WiFi</button>
<button onclick="send('setPlayerCmd:switchmode:bluetooth');">BT</button>
<br><br><br>
opencartbot &copy; 2021
<script type="text/javascript">
	slider.oninput = () => {
		setTimeout(volume, 500, slider.value);
	}
</script>
</body>
</html>
